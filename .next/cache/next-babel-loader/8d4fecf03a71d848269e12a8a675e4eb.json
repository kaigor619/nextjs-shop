{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming languages\\\\Next.js\\\\re-store\\\\src\\\\pages\\\\product\\\\Description.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport ProductCounter from '../../components/ProductCounter';\nimport ProductAttr from './Attributes';\nimport { addProduct } from '../../redux/actions';\nimport styles from './Product.module.css';\n\nconst ProductDescription = ({\n  product,\n  addProduct,\n  in_cart\n}) => {\n  let {\n    name,\n    price,\n    description,\n    attr\n  } = product;\n  let {\n    0: error,\n    1: setError\n  } = useState('');\n  let {\n    0: count,\n    1: setCount\n  } = useState(1);\n  let {\n    0: attribute,\n    1: setAttribute\n  } = useState('');\n  let router = useRouter();\n\n  const clickAttr = attr => {\n    setAttribute(attr);\n  };\n\n  const changeCount = num => {\n    setCount(+parseInt(num));\n  };\n\n  const addCart = () => {\n    let message = '';\n\n    if (count >= 1 && isFinite(count) && attribute !== '') {\n      let obj = Object.assign(product, {\n        count\n      });\n      addProduct(obj);\n    } else if (count < 1 || !isFinite(count)) {\n      message = 'Неверное количество товара';\n    } else if (attribute === '') {\n      message = 'Выберете атрибут';\n    }\n\n    if (error !== message) setError(message);\n  };\n\n  let classNames = styles.btn_add_product + ' btn btn-primary ';\n  if (in_cart) classNames += 'active';\n  return __jsx(\"div\", {\n    className: styles.product_description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    className: styles.product_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, name), __jsx(\"span\", {\n    className: styles.product_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"$\", price), __jsx(\"p\", {\n    className: \"product_about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, description), __jsx(ProductAttr, {\n    data: attr,\n    clickAttr: clickAttr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), __jsx(ProductCounter, {\n    changeCount: changeCount,\n    count: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"product_add_cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: addCart,\n    type: \"button\",\n    className: classNames,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-shopping-cart mr-1\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), ' ', __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Add to Cart\"))), __jsx(\"p\", {\n    className: styles.error_message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, error));\n};\n\nconst mapStateToProps = ({\n  cart\n}, {\n  product\n}) => {\n  let in_cart = cart.some(item => product.id === item.id);\n  return {\n    in_cart\n  };\n};\n\nconst mapDispatchToProps = {\n  addProduct\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDescription);","map":{"version":3,"sources":["D:/Programming languages/Next.js/re-store/src/pages/product/Description.js"],"names":["React","useState","useEffect","connect","useRouter","ProductCounter","ProductAttr","addProduct","styles","ProductDescription","product","in_cart","name","price","description","attr","error","setError","count","setCount","attribute","setAttribute","router","clickAttr","changeCount","num","parseInt","addCart","message","isFinite","obj","Object","assign","classNames","btn_add_product","product_description","product_name","product_price","error_message","mapStateToProps","cart","some","item","id","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { useRouter } from 'next/router'\r\nimport ProductCounter from '../../components/ProductCounter'\r\nimport ProductAttr from './Attributes'\r\nimport { addProduct } from '../../redux/actions'\r\nimport styles from './Product.module.css'\r\n\r\nconst ProductDescription = ({ product, addProduct, in_cart }) => {\r\n  let { name, price, description, attr } = product\r\n\r\n  let [error, setError] = useState('')\r\n  let [count, setCount] = useState(1)\r\n  let [attribute, setAttribute] = useState('')\r\n\r\n  let router = useRouter()\r\n\r\n  const clickAttr = (attr) => {\r\n    setAttribute(attr)\r\n  }\r\n  const changeCount = (num) => {\r\n    setCount(+parseInt(num))\r\n  }\r\n  const addCart = () => {\r\n    let message = ''\r\n\r\n    if (count >= 1 && isFinite(count) && attribute !== '') {\r\n      let obj = Object.assign(product, { count })\r\n      addProduct(obj)\r\n    } else if (count < 1 || !isFinite(count)) {\r\n      message = 'Неверное количество товара'\r\n    } else if (attribute === '') {\r\n      message = 'Выберете атрибут'\r\n    }\r\n\r\n    if (error !== message) setError(message)\r\n  }\r\n\r\n  let classNames = styles.btn_add_product + ' btn btn-primary '\r\n  if (in_cart) classNames += 'active'\r\n\r\n  return (\r\n    <div className={styles.product_description}>\r\n      <h2 className={styles.product_name}>{name}</h2>\r\n      <span className={styles.product_price}>${price}</span>\r\n\r\n      <p className=\"product_about\">{description}</p>\r\n\r\n      <ProductAttr data={attr} clickAttr={clickAttr} />\r\n\r\n      <ProductCounter changeCount={changeCount} count={1} />\r\n      <div className=\"product_add_cart\">\r\n        <button onClick={addCart} type=\"button\" className={classNames}>\r\n          <i className=\"fa fa-shopping-cart mr-1\" aria-hidden=\"true\"></i>{' '}\r\n          <span>Add to Cart</span>\r\n        </button>\r\n      </div>\r\n      <p className={styles.error_message}>{error}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({ cart }, { product }) => {\r\n  let in_cart = cart.some((item) => product.id === item.id)\r\n\r\n  return { in_cart }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addProduct,\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDescription)\r\n"]},"metadata":{},"sourceType":"module"}