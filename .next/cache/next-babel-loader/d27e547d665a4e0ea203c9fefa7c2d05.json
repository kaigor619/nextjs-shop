{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming languages\\\\React\\\\re-store\\\\routes\\\\product\\\\description.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport ProductCounter from './product-counter';\nimport ProductAttr from './product-attr';\nimport { connect } from 'react-redux';\nimport { addProduct } from '../../redux/actions';\nimport styles from './product.module.css';\n\nconst ProductDescription = ({\n  product,\n  history,\n  addProduct\n}) => {\n  _s();\n\n  let {\n    name,\n    price,\n    description,\n    attr\n  } = product;\n  let {\n    0: error,\n    1: setError\n  } = useState('');\n  let {\n    0: count,\n    1: setCount\n  } = useState(0);\n  let {\n    0: attribute,\n    1: setAttribute\n  } = useState('');\n\n  const clickAttr = attr => {\n    setAttribute(attr);\n  };\n\n  const changeCount = num => {\n    setCount(+parseInt(num));\n  };\n\n  const addCart = () => {\n    let message = '';\n\n    if (count >= 1 && isFinite(count) && attribute !== '') {\n      history.push('/cart');\n      let obj = Object.assign(product, {\n        count\n      });\n      addProduct(obj);\n    } else if (count < 1 || !isFinite(count)) {\n      message = 'Неверное количество товара';\n    } else if (attribute === '') {\n      message = 'Выберете атрибут';\n    }\n\n    if (error !== message) setError(message);\n  };\n\n  return __jsx(\"div\", {\n    className: styles.product_description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    className: styles.product_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, name), __jsx(\"span\", {\n    className: styles.product_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"$\", price), __jsx(\"p\", {\n    className: \"product_about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, description), __jsx(ProductAttr, {\n    data: attr,\n    clickAttr: clickAttr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), __jsx(ProductCounter, {\n    changeCount: changeCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"product_add_cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: addCart,\n    type: \"button\",\n    className: styles.btn_add_product + ' btn btn-primary',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-shopping-cart mr-1\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), ' ', __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Add to Cart\"))), __jsx(\"p\", {\n    className: styles.error_message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, error));\n};\n\n_s(ProductDescription, \"2814MEVJO/3W76WYEDHarO2NPqQ=\");\n\n_c = ProductDescription;\nconst mapDispatchToProps = {\n  addProduct\n};\nexport default connect(null, mapDispatchToProps)(ProductDescription);\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDescription\");","map":{"version":3,"sources":["D:/Programming languages/React/re-store/routes/product/description.js"],"names":["React","useState","useEffect","ProductCounter","ProductAttr","connect","addProduct","styles","ProductDescription","product","history","name","price","description","attr","error","setError","count","setCount","attribute","setAttribute","clickAttr","changeCount","num","parseInt","addCart","message","isFinite","push","obj","Object","assign","product_description","product_name","product_price","btn_add_product","error_message","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport ProductCounter from './product-counter'\r\nimport ProductAttr from './product-attr'\r\nimport { connect } from 'react-redux'\r\nimport { addProduct } from '../../redux/actions'\r\nimport styles from './product.module.css'\r\n\r\nconst ProductDescription = ({ product, history, addProduct }) => {\r\n  let { name, price, description, attr } = product\r\n\r\n  let [error, setError] = useState('')\r\n  let [count, setCount] = useState(0)\r\n  let [attribute, setAttribute] = useState('')\r\n\r\n  const clickAttr = (attr) => {\r\n    setAttribute(attr)\r\n  }\r\n  const changeCount = (num) => {\r\n    setCount(+parseInt(num))\r\n  }\r\n  const addCart = () => {\r\n    let message = ''\r\n\r\n    if (count >= 1 && isFinite(count) && attribute !== '') {\r\n      history.push('/cart')\r\n      let obj = Object.assign(product, { count })\r\n      addProduct(obj)\r\n    } else if (count < 1 || !isFinite(count)) {\r\n      message = 'Неверное количество товара'\r\n    } else if (attribute === '') {\r\n      message = 'Выберете атрибут'\r\n    }\r\n\r\n    if (error !== message) setError(message)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.product_description}>\r\n      <h2 className={styles.product_name}>{name}</h2>\r\n      <span className={styles.product_price}>${price}</span>\r\n\r\n      <p className=\"product_about\">{description}</p>\r\n\r\n      <ProductAttr data={attr} clickAttr={clickAttr} />\r\n\r\n      <ProductCounter changeCount={changeCount} />\r\n      <div className=\"product_add_cart\">\r\n        <button\r\n          onClick={addCart}\r\n          type=\"button\"\r\n          className={styles.btn_add_product + ' btn btn-primary'}\r\n        >\r\n          <i className=\"fa fa-shopping-cart mr-1\" aria-hidden=\"true\"></i>{' '}\r\n          <span>Add to Cart</span>\r\n        </button>\r\n      </div>\r\n      <p className={styles.error_message}>{error}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  addProduct,\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ProductDescription)\r\n"]},"metadata":{},"sourceType":"module"}