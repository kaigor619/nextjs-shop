{"ast":null,"code":"import db from '../../db.json';\nexport default function (req, res) {\n  const {\n    query\n  } = req;\n\n  if (query.id) {\n    let phones = JSON.parse(db);\n    let i = phones.findIndex(({\n      id\n    }) => id == query.id);\n\n    if (i > -1) {\n      return res.status(200).json(phones[i]);\n    } else {\n      return res.status(404).end();\n    }\n  } //   res.statusCode = 200\n  //   res.setHeader('Content-Type', 'appication/json')\n  //   res.end(db)\n\n\n  res.status(200).json(db);\n}","map":{"version":3,"sources":["D:/Programming languages/Next.js/re-store/pages/api/phones.js"],"names":["db","req","res","query","id","phones","JSON","parse","i","findIndex","status","json","end"],"mappings":"AAAA,OAAOA,EAAP,MAAe,eAAf;AAEA,eAAe,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAYF,GAAlB;;AAEA,MAAIE,KAAK,CAACC,EAAV,EAAc;AACZ,QAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWP,EAAX,CAAb;AACA,QAAIQ,CAAC,GAAGH,MAAM,CAACI,SAAP,CAAiB,CAAC;AAAEL,MAAAA;AAAF,KAAD,KAAYA,EAAE,IAAID,KAAK,CAACC,EAAzC,CAAR;;AAEA,QAAII,CAAC,GAAG,CAAC,CAAT,EAAY;AACV,aAAON,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,MAAM,CAACG,CAAD,CAA3B,CAAP;AACD,KAFD,MAEO;AACL,aAAON,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBE,GAAhB,EAAP;AACD;AACF,GAZgC,CAcjC;AACA;AACA;;;AAEAV,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBX,EAArB;AACD","sourcesContent":["import db from '../../db.json'\r\n\r\nexport default function (req, res) {\r\n  const { query } = req\r\n\r\n  if (query.id) {\r\n    let phones = JSON.parse(db)\r\n    let i = phones.findIndex(({ id }) => id == query.id)\r\n\r\n    if (i > -1) {\r\n      return res.status(200).json(phones[i])\r\n    } else {\r\n      return res.status(404).end()\r\n    }\r\n  }\r\n\r\n  //   res.statusCode = 200\r\n  //   res.setHeader('Content-Type', 'appication/json')\r\n  //   res.end(db)\r\n\r\n  res.status(200).json(db)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}