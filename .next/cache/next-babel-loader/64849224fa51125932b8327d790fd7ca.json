{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\Programming languages\\\\React\\\\re-store\\\\pages\\\\shop\\\\product\\\\[id].js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Description from '../../../routes/product/description';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Spinner from '../../../components/spinner';\nimport Error from '../../../components/error';\nimport { useRouter } from 'next/router';\nimport styles from '../../../routes/product/product.module.css';\nimport prevArrow from '../../../routes/product/prev.svg';\nimport nextArrow from '../../../routes/product/next.svg'; // export default function Product() {\n//   return <h1>Product</h1>\n// }\n\nclass ProductContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      error: this.props.error,\n      loading: !this.props.serverProduct,\n      product: this.props.serverProduct\n    });\n\n    _defineProperty(this, \"carouselProps\", {\n      indicators: false,\n      prevIcon: __jsx(\"img\", {\n        className: \"carousel-arrows\",\n        src: prevArrow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      }),\n      nextIcon: __jsx(\"img\", {\n        className: \"carousel-arrows\",\n        src: nextArrow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }\n      })\n    });\n  }\n\n  static async getInitialProps({\n    req,\n    query\n  }) {\n    let {\n      id\n    } = query;\n    let serverProduct = null;\n\n    if (!req) {\n      return {\n        serverProduct\n      };\n    }\n\n    try {\n      const res = await fetch(`http://localhost:4000/phones/${id}`);\n      serverProduct = await res.json();\n    } catch (error) {\n      return {\n        error\n      };\n    }\n\n    return {\n      serverProduct\n    };\n  }\n\n  componentDidMount() {\n    let {\n      id,\n      phoneservice\n    } = this.props;\n    const router = useRouter().getPhone(id).then(data => {\n      console.log(data[0]);\n      this.setState({\n        loading: false,\n        product: data[0]\n      });\n    }).catch(error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  render() {\n    let {\n      loading,\n      error,\n      product\n    } = this.state;\n\n    if (error) {\n      return __jsx(Error, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 14\n        }\n      });\n    }\n\n    let CarouselComponents = __jsx(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 30\n      }\n    });\n\n    if (!loading) CarouselComponents = __jsx(Carousel, _extends({}, this.carouselProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }), product.gallery.map(item => {\n      return __jsx(Carousel.Item, {\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, __jsx(\"img\", {\n        className: \"gallery-image\",\n        src: item,\n        alt: \"Gallery\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 18\n        }\n      }));\n    }));\n    return __jsx(\"div\", {\n      className: styles.single_page,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: styles.product_ceil,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, CarouselComponents)), __jsx(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, loading ? __jsx(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }) : __jsx(Description, {\n      product: product,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default ProductContainer;","map":{"version":3,"sources":["D:/Programming languages/React/re-store/pages/shop/product/[id].js"],"names":["React","Component","Description","Carousel","Spinner","Error","useRouter","styles","prevArrow","nextArrow","ProductContainer","error","props","loading","serverProduct","product","indicators","prevIcon","nextIcon","getInitialProps","req","query","id","res","fetch","json","componentDidMount","phoneservice","router","getPhone","then","data","console","log","setState","catch","render","state","CarouselComponents","carouselProps","gallery","map","item","single_page","product_ceil","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Description from '../../../routes/product/description'\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport Spinner from '../../../components/spinner'\r\nimport Error from '../../../components/error'\r\nimport { useRouter } from 'next/router'\r\nimport styles from '../../../routes/product/product.module.css'\r\nimport prevArrow from '../../../routes/product/prev.svg'\r\nimport nextArrow from '../../../routes/product/next.svg'\r\n\r\n// export default function Product() {\r\n//   return <h1>Product</h1>\r\n// }\r\n\r\nclass ProductContainer extends Component {\r\n  static async getInitialProps({ req, query }) {\r\n    let { id } = query\r\n    let serverProduct = null\r\n    if (!req) {\r\n      return { serverProduct }\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:4000/phones/${id}`)\r\n      serverProduct = await res.json()\r\n    } catch (error) {\r\n      return { error }\r\n    }\r\n\r\n    return { serverProduct }\r\n  }\r\n\r\n  state = {\r\n    error: this.props.error,\r\n    loading: !this.props.serverProduct,\r\n    product: this.props.serverProduct,\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { id, phoneservice } = this.props\r\n    const router = useRouter()\r\n      .getPhone(id)\r\n      .then((data) => {\r\n        console.log(data[0])\r\n        this.setState({ loading: false, product: data[0] })\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ error })\r\n      })\r\n  }\r\n\r\n  carouselProps = {\r\n    indicators: false,\r\n    prevIcon: <img className=\"carousel-arrows\" src={prevArrow} />,\r\n    nextIcon: <img className=\"carousel-arrows\" src={nextArrow} />,\r\n  }\r\n\r\n  render() {\r\n    let { loading, error, product } = this.state\r\n\r\n    if (error) {\r\n      return <Error />\r\n    }\r\n\r\n    let CarouselComponents = <Spinner />\r\n    if (!loading)\r\n      CarouselComponents = (\r\n        <Carousel {...this.carouselProps}>\r\n          {product.gallery.map((item) => {\r\n            return (\r\n              <Carousel.Item key={item}>\r\n                {<img className=\"gallery-image\" src={item} alt=\"Gallery\" />}\r\n              </Carousel.Item>\r\n            )\r\n          })}\r\n        </Carousel>\r\n      )\r\n\r\n    return (\r\n      <div className={styles.single_page}>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-6\">\r\n              <div className={styles.product_ceil}>{CarouselComponents}</div>\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n              {loading ? (\r\n                <Spinner />\r\n              ) : (\r\n                <Description product={product} history={this.props.history} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProductContainer\r\n"]},"metadata":{},"sourceType":"module"}