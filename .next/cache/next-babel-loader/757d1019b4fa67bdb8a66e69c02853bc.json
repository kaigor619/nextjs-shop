{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _jsxFileName = \"D:\\\\Programming languages\\\\React\\\\re-store\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Card from '../routes/shop/card';\nimport { withDataPhone } from '../components/hoc';\nimport Spinner from '../components/spinner';\nimport Error from '../components/error';\nimport styles from '../routes/shop/shop.module.css';\nimport PhoneService from '../context';\n\nconst Shop = ({\n  phones\n}) => {\n  let list = phones.map(item => {\n    return __jsx(Card, _extends({}, item, {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 12\n      }\n    }));\n  });\n  return __jsx(\"div\", {\n    className: styles.shop_content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }\n  }, list)));\n};\n\n_c = Shop;\n\nclass ShopContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      loading: !this.props.phones,\n      phones: this.props.phones,\n      error: this.props.error\n    });\n\n    _defineProperty(this, \"render\", () => {\n      let {\n        phones,\n        loading,\n        error\n      } = this.state;\n\n      if (error) {\n        return __jsx(Error, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 14\n          }\n        });\n      }\n\n      if (loading) {\n        return __jsx(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return __jsx(Shop, {\n        phones: phones,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 12\n        }\n      });\n    });\n  }\n\n  static async getInitialProps({\n    req\n  }) {\n    let phones = null;\n    if (!req) return {\n      phones\n    };\n\n    try {\n      const res = await PhoneService.getPhones();\n      phones = await res.json();\n    } catch (error) {\n      return {\n        error\n      };\n    }\n\n    return {\n      phones\n    };\n  }\n\n  async load() {\n    let res = await PhoneService.getPhones();\n    let phones = await res.json();\n    return phones;\n  }\n\n  componentDidMount() {\n    if (!this.state.phones) {\n      PhoneService.getPhones().then(phones => {\n        this.setState({\n          loading: false,\n          phones\n        });\n      }).catch(error => {\n        this.setState({\n          error,\n          loading: false\n        });\n      });\n    }\n  }\n\n} // export async function getStaticProps() {\n//   const res = await fetch('http://localhost:4000/phones')\n//   const phones = await res.json()\n//   return {\n//     props: {\n//       phones,\n//     },\n//   }\n// }\n\n\nexport default ShopContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["D:/Programming languages/React/re-store/pages/index.js"],"names":["React","Component","Card","withDataPhone","Spinner","Error","styles","PhoneService","Shop","phones","list","map","item","id","shop_content","ShopContainer","loading","props","error","state","getInitialProps","req","res","getPhones","json","load","componentDidMount","then","setState","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Card from '../routes/shop/card'\r\nimport { withDataPhone } from '../components/hoc'\r\nimport Spinner from '../components/spinner'\r\nimport Error from '../components/error'\r\nimport styles from '../routes/shop/shop.module.css'\r\nimport PhoneService from '../context'\r\n\r\nconst Shop = ({ phones }) => {\r\n  let list = phones.map((item) => {\r\n    return <Card {...item} key={item.id} />\r\n  })\r\n  return (\r\n    <div className={styles.shop_content}>\r\n      <div className=\"container\">\r\n        <div className=\"row\">{list}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass ShopContainer extends Component {\r\n  static async getInitialProps({ req }) {\r\n    let phones = null\r\n    if (!req) return { phones }\r\n\r\n    try {\r\n      const res = await PhoneService.getPhones()\r\n      phones = await res.json()\r\n    } catch (error) {\r\n      return { error }\r\n    }\r\n\r\n    return { phones }\r\n  }\r\n\r\n  async load() {\r\n    let res = await PhoneService.getPhones()\r\n    let phones = await res.json()\r\n\r\n    return phones\r\n  }\r\n\r\n  state = {\r\n    loading: !this.props.phones,\r\n    phones: this.props.phones,\r\n    error: this.props.error,\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.phones) {\r\n      PhoneService.getPhones()\r\n        .then((phones) => {\r\n          this.setState({ loading: false, phones })\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ error, loading: false })\r\n        })\r\n    }\r\n  }\r\n\r\n  render = () => {\r\n    let { phones, loading, error } = this.state\r\n\r\n    if (error) {\r\n      return <Error />\r\n    }\r\n    if (loading) {\r\n      return <Spinner />\r\n    }\r\n\r\n    return <Shop phones={phones} />\r\n  }\r\n}\r\n\r\n// export async function getStaticProps() {\r\n//   const res = await fetch('http://localhost:4000/phones')\r\n//   const phones = await res.json()\r\n\r\n//   return {\r\n//     props: {\r\n//       phones,\r\n//     },\r\n//   }\r\n// }\r\n\r\nexport default ShopContainer\r\n"]},"metadata":{},"sourceType":"module"}