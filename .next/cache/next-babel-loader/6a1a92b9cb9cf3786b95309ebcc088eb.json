{"ast":null,"code":"import db from '../../db.json';\nexport default function (req, res) {\n  const {\n    query\n  } = req;\n\n  if (query.id) {\n    let phones = db;\n    let i = phones.findIndex(({\n      id\n    }) => id == query.id);\n    console.log(i);\n\n    if (i > -1) {\n      return res.status(200).json(phones[i]);\n    } else {\n      return res.status(404).end();\n    }\n  }\n\n  res.status(200).json(db);\n}","map":{"version":3,"sources":["D:/Programming languages/Next.js/re-store/pages/api/phones.js"],"names":["db","req","res","query","id","phones","i","findIndex","console","log","status","json","end"],"mappings":"AAAA,OAAOA,EAAP,MAAe,eAAf;AAEA,eAAe,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAYF,GAAlB;;AAEA,MAAIE,KAAK,CAACC,EAAV,EAAc;AACZ,QAAIC,MAAM,GAAGL,EAAb;AACA,QAAIM,CAAC,GAAGD,MAAM,CAACE,SAAP,CAAiB,CAAC;AAAEH,MAAAA;AAAF,KAAD,KAAYA,EAAE,IAAID,KAAK,CAACC,EAAzC,CAAR;AAEAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;;AAEA,QAAIA,CAAC,GAAG,CAAC,CAAT,EAAY;AACV,aAAOJ,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBN,MAAM,CAACC,CAAD,CAA3B,CAAP;AACD,KAFD,MAEO;AACL,aAAOJ,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBE,GAAhB,EAAP;AACD;AACF;;AAEDV,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBX,EAArB;AACD","sourcesContent":["import db from '../../db.json'\r\n\r\nexport default function (req, res) {\r\n  const { query } = req\r\n\r\n  if (query.id) {\r\n    let phones = db\r\n    let i = phones.findIndex(({ id }) => id == query.id)\r\n\r\n    console.log(i)\r\n\r\n    if (i > -1) {\r\n      return res.status(200).json(phones[i])\r\n    } else {\r\n      return res.status(404).end()\r\n    }\r\n  }\r\n\r\n  res.status(200).json(db)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}