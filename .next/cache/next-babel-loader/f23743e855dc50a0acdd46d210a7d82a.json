{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"D:\\\\Programming languages\\\\Next.js\\\\re-store\\\\src\\\\pages\\\\product\\\\Product.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Carousel from 'react-bootstrap/Carousel';\nimport { useRouter } from 'next/router';\nimport Description from './Description';\nimport Spinner from '../../components/Spinner';\nimport Error from '../../components/Spinner';\nimport PhoneService from '../../service/phone-service';\nimport styles from './Product.module.css';\nimport prevArrow from './images/prev.svg';\nimport nextArrow from './images/next.svg';\nconst carouselProps = {\n  indicators: false,\n  prevIcon: __jsx(\"img\", {\n    className: styles.carousel_arrows,\n    src: prevArrow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }),\n  nextIcon: __jsx(\"img\", {\n    className: styles.carousel_arrows,\n    src: nextArrow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  })\n};\n\nconst CarouselComponents = ({\n  product\n}) => {\n  return __jsx(Carousel, _extends({}, carouselProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }), product.gallery.map(item => {\n    return __jsx(Carousel.Item, {\n      key: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: styles.carousel_wrap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      className: styles.gallery_image,\n      src: item,\n      alt: \"Gallery\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }\n    })));\n  }));\n};\n\n_c = CarouselComponents;\n\nconst ProductContainer = ({\n  serverProduct,\n  serverError\n}) => {\n  _s();\n\n  let {\n    0: product,\n    1: setProduct\n  } = useState(serverProduct);\n  let {\n    0: loading,\n    1: setLoading\n  } = useState(!serverProduct);\n  let {\n    0: error,\n    1: setError\n  } = useState(serverError);\n  let router = useRouter();\n\n  async function load() {\n    let product = null;\n\n    try {\n      product = await PhoneService().getPhone(router.query.id);\n    } catch (err) {\n      setError(err);\n    }\n\n    if (product) {\n      setProduct(product);\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (!product) {\n      load();\n    } else if (product.id != router.query.id) {\n      setLoading(true);\n      load();\n    }\n  });\n\n  if (error) {\n    return __jsx(Error, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (loading) return __jsx(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }\n  });\n  return __jsx(\"div\", {\n    className: styles.single_page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: styles.product_ceil,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, __jsx(CarouselComponents, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, __jsx(Description, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })))));\n};\n\n_s(ProductContainer, \"cLdCpOPTgS3hgwADuHlZndndfFc=\", false, function () {\n  return [useRouter];\n});\n\n_c2 = ProductContainer;\n\nProductContainer.getInitialProps = async ({\n  req,\n  query\n}) => {\n  let {\n    id\n  } = query;\n  let serverProduct = null;\n\n  if (!req) {\n    return {\n      serverProduct\n    };\n  }\n\n  try {\n    serverProduct = await PhoneService().getPhone(id);\n  } catch (error) {\n    return {\n      serverError\n    };\n  }\n\n  return {\n    serverProduct\n  };\n};\n\nexport default ProductContainer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CarouselComponents\");\n$RefreshReg$(_c2, \"ProductContainer\");","map":{"version":3,"sources":["D:/Programming languages/Next.js/re-store/src/pages/product/Product.js"],"names":["React","useState","useEffect","Carousel","useRouter","Description","Spinner","Error","PhoneService","styles","prevArrow","nextArrow","carouselProps","indicators","prevIcon","carousel_arrows","nextIcon","CarouselComponents","product","gallery","map","item","carousel_wrap","gallery_image","ProductContainer","serverProduct","serverError","setProduct","loading","setLoading","error","setError","router","load","getPhone","query","id","err","single_page","product_ceil","getInitialProps","req"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Carousel from 'react-bootstrap/Carousel'\r\nimport { useRouter } from 'next/router'\r\nimport Description from './Description'\r\nimport Spinner from '../../components/Spinner'\r\nimport Error from '../../components/Spinner'\r\nimport PhoneService from '../../service/phone-service'\r\nimport styles from './Product.module.css'\r\nimport prevArrow from './images/prev.svg'\r\nimport nextArrow from './images/next.svg'\r\n\r\nconst carouselProps = {\r\n  indicators: false,\r\n  prevIcon: <img className={styles.carousel_arrows} src={prevArrow} />,\r\n  nextIcon: <img className={styles.carousel_arrows} src={nextArrow} />,\r\n}\r\n\r\nconst CarouselComponents = ({ product }) => {\r\n  return (\r\n    <Carousel {...carouselProps}>\r\n      {product.gallery.map((item) => {\r\n        return (\r\n          <Carousel.Item key={item}>\r\n            <div className={styles.carousel_wrap}>\r\n              {\r\n                <img\r\n                  className={styles.gallery_image}\r\n                  src={item}\r\n                  alt=\"Gallery\"\r\n                />\r\n              }\r\n            </div>\r\n          </Carousel.Item>\r\n        )\r\n      })}\r\n    </Carousel>\r\n  )\r\n}\r\n\r\nconst ProductContainer = ({ serverProduct, serverError }) => {\r\n  let [product, setProduct] = useState(serverProduct)\r\n  let [loading, setLoading] = useState(!serverProduct)\r\n  let [error, setError] = useState(serverError)\r\n\r\n  let router = useRouter()\r\n\r\n  async function load() {\r\n    let product = null\r\n\r\n    try {\r\n      product = await PhoneService().getPhone(router.query.id)\r\n    } catch (err) {\r\n      setError(err)\r\n    }\r\n\r\n    if (product) {\r\n      setProduct(product)\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!product) {\r\n      load()\r\n    } else if (product.id != router.query.id) {\r\n      setLoading(true)\r\n      load()\r\n    }\r\n  })\r\n\r\n  if (error) {\r\n    return <Error />\r\n  }\r\n\r\n  if (loading) return <Spinner />\r\n\r\n  return (\r\n    <div className={styles.single_page}>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <div className={styles.product_ceil}>\r\n              <CarouselComponents product={product} />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6\">\r\n            <Description product={product} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nProductContainer.getInitialProps = async ({ req, query }) => {\r\n  let { id } = query\r\n  let serverProduct = null\r\n  if (!req) {\r\n    return { serverProduct }\r\n  }\r\n  try {\r\n    serverProduct = await PhoneService().getPhone(id)\r\n  } catch (error) {\r\n    return { serverError }\r\n  }\r\n\r\n  return { serverProduct }\r\n}\r\n\r\nexport default ProductContainer\r\n"]},"metadata":{},"sourceType":"module"}